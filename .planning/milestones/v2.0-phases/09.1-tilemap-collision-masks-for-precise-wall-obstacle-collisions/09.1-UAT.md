---
status: complete
phase: 09.1-tilemap-collision-masks
source: 09.1-01-SUMMARY.md, 09.1-02-SUMMARY.md, 09.1-03-SUMMARY.md
started: 2026-02-17T10:00:00Z
updated: 2026-02-17T10:15:00Z
---

## Current Test

[testing complete]

## Tests

### 1. F3 Debug Overlay Toggle
expected: While in a match, press F3. A collision rectangle overlay appears showing colored rectangles on wall/obstacle tiles (red=walls, orange=heavy, yellow=medium, green=light). Rectangles are visibly smaller than full tiles on many tiles. F3 again hides overlay.
result: pass

### 2. Sub-Rect Wall Collision (Player Movement)
expected: Walk a character toward a wall. The character should stop at the visual edge of the wall tile art, NOT at the invisible full-tile boundary. There should be less "phantom gap" between the player sprite and the visible wall compared to before this phase.
result: pass

### 3. Projectile Sub-Rect Collision
expected: Shoot a projectile toward a wall. The projectile should impact/disappear at the visual edge of the wall, not at the full tile boundary. Projectiles should travel slightly further into tiles that have smaller collision rects.
result: pass

### 4. Collision Consistency Across Maps
expected: Play on different arenas (hedge, brick, wood). Each should have its own collision shapes matching that tileset's art. The F3 overlay (if toggled) shows different collision rect sizes per arena theme.
result: pass

### 5. Stage Transition Collision Reset
expected: During a multi-stage match, after transitioning to a new stage on a different arena, collisions should work correctly on the new map. The F3 overlay (if active) should update to show the new map's collision shapes, not stale rects from the previous stage.
result: pass

### 6. Basic Gameplay Integrity
expected: A full match plays normally -- movement, shooting, damage, eliminations, stage transitions, and victory all function as before. No new crashes, freezes, or obvious desync. The collision changes should be a subtle improvement, not a breaking change.
result: pass

## Summary

total: 6
passed: 6
issues: 0
pending: 0
skipped: 0

## Gaps

[none]
