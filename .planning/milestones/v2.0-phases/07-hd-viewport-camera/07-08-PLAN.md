---
phase: 07-hd-viewport-camera
plan: 08
type: execute
wave: 1
depends_on: []
files_modified: [client/src/scenes/HUDScene.ts, client/src/scenes/LobbyScene.ts, client/src/scenes/HelpScene.ts]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Player name label and cooldown bar do not overlap in the HUD"
    - "Lobby room code, Select Character title, and character panels are clearly separated with no overlap"
    - "Help screen shows playful role descriptions with no element overlap or cramped layout"
  artifacts:
    - path: "client/src/scenes/HUDScene.ts"
      provides: "Cooldown bar repositioned above name label"
      contains: "H * 0.89"
    - path: "client/src/scenes/LobbyScene.ts"
      provides: "Increased vertical spacing between title and panels"
      contains: "titleY + 100"
    - path: "client/src/scenes/HelpScene.ts"
      provides: "Redesigned help screen with playful descriptions"
      contains: "Unstoppable force"
  key_links:
    - from: "cooldown bar Y"
      to: "health bar Y"
      via: "vertical separation"
      pattern: "H \\* 0\\.89"
    - from: "panelY"
      to: "titleY"
      via: "100px offset"
      pattern: "titleY \\+ 100"
---

<objective>
Fix HUD cooldown/name overlap (Test 14), lobby element overlap (Test 15), and redesign help screen with playful descriptions (Test 17).

Purpose: Three cosmetic/layout issues from UAT testing at 1280x720. The HUD has a 3px overlap between name and cooldown. The lobby has a 9px overlap between title and panels. The help screen is overloaded with technical stats that belong in a wiki, not a player-facing help screen.

Output: Clean, non-overlapping layouts across HUD, Lobby, and Help scenes.
</objective>

<execution_context>
@/Users/jonasbrandvik/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jonasbrandvik/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-hd-viewport-camera/07-05-SUMMARY.md
@.planning/debug/name-covers-cooldown-bar.md
@.planning/debug/lobby-elements-overlap-1280x720.md
@.planning/debug/help-screen-overlap-redesign.md
@client/src/scenes/HUDScene.ts
@client/src/scenes/LobbyScene.ts
@client/src/scenes/HelpScene.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix HUD cooldown/name overlap and lobby element spacing</name>
  <files>client/src/scenes/HUDScene.ts, client/src/scenes/LobbyScene.ts</files>
  <action>
**HUDScene fix (Test 14):**

In `createCooldownDisplay()` (~line 474), change the cooldown bar Y position from `this.H * 0.92` to `this.H * 0.89`. This moves the cooldown bar from Y=662 to Y=641, creating ~8px clear gap above the player name label (which sits at ~Y=649-666).

Change this ONE line:
```typescript
// Before:
const barY = this.H * 0.92;
// After:
const barY = this.H * 0.89;
```

That is the only change needed in HUDScene.ts. Do NOT change health bar positions (H*0.95) or name label positions -- those are correct.

**LobbyScene fix (Test 15):**

In `createCharacterSelection()` (~line 829), increase the panel offset from `titleY + 70` to `titleY + 100`. This adds 30px more space between the "Select Character" title and the character panel top edges, eliminating the 9px overlap.

Change this ONE line:
```typescript
// Before:
const panelY = titleY + 70;
// After:
const panelY = titleY + 100;
```

Then push the "Players" section down to match. In `createPlayerList()` (~line 932), change the titleY values to account for the 30px shift:
```typescript
// Before:
const titleY = this.room.state.isPrivate ? 320 : 280;
// After:
const titleY = this.room.state.isPrivate ? 350 : 310;
```

**What NOT to do:**
- Do NOT change the room code Y position (45) -- it has adequate spacing.
- Do NOT change character panel dimensions (160x130) -- they are fine.
- Do NOT change the countdown text position -- it renders during countdown phase, not during character selection.
  </action>
  <verify>
1. `grep -n "H \* 0.89" client/src/scenes/HUDScene.ts` shows the cooldown bar at the new position
2. `grep -n "titleY + 100" client/src/scenes/LobbyScene.ts` shows the increased panel offset
3. `grep -n "isPrivate ? 350 : 310" client/src/scenes/LobbyScene.ts` shows the pushed-down Players section
4. No TypeScript compilation errors: `cd client && npx tsc --noEmit`
  </verify>
  <done>
- Cooldown bar at H*0.89 (Y=641) with clear gap above name label at Y=649-666
- Character panels at titleY+100, providing 30px more clearance from the "Select Character" title
- Players section pushed down 30px to maintain spacing below panels
  </done>
</task>

<task type="auto">
  <name>Task 2: Redesign help screen with playful solarpunk descriptions</name>
  <files>client/src/scenes/HelpScene.ts</files>
  <action>
Complete redesign of the HelpScene role panels. Remove all technical stats and developer-language descriptions. Replace with 2-3 short, playful lines per role in a solarpunk/game-design tone. The goal is a help screen that feels like a game manual, not a technical spec.

**Rewrite the entire `create()` method with this structure:**

1. **Title:** Keep "HOW TO PLAY" (change from "CONTROLS") at Y=50, same styling.

2. **Decorative divider:** Keep as-is, adjust Y to 75.

3. **Controls section:** Simplify to a single line: "WASD to move | SPACE to shoot | TAB to spectate" at Y=100. Remove the "General" subtitle -- it's unnecessary with just one line.

4. **Role panels (the main change):** Place at `rolesY = 170` with `roleSpacing = 340` (wider than 320 for breathing room). Each panel should be `280 x 220` (wider, shorter than 270x270 -- we removed stats and half the text).

   Panel contents (top to bottom within each panel):
   - Character sprite at `rolesY + 10` (idle animation, scale 2)
   - Role name at `rolesY + 50` (18px, bold, role-colored)
   - Role tagline at `rolesY + 72` (13px, secondary color, italic feel)
   - 2-3 playful description lines starting at `rolesY + 98`, spaced 22px apart (13px, secondary color)

   **Paran panel content:**
   - Name: "Paran"
   - Tagline: "Unstoppable force"
   - Lines:
     - "Charges through the arena at blazing speed"
     - "Crushes guardians on contact"
     - "One wrong wall and you lose it all"

   **Faran panel content:**
   - Name: "Faran"
   - Tagline: "The sharpshooter"
   - Lines:
     - "Nimble guardian with a rapid-fire blaster"
     - "Team up with Baran to corner Paran"

   **Baran panel content:**
   - Name: "Baran"
   - Tagline: "The heavy hitter"
   - Lines:
     - "Armored guardian packing serious firepower"
     - "Team up with Faran to corner Paran"

   Panel background: same `Colors.bg.deepNum` with `Panels.card` border style.

   **Remove entirely:** The `stats` line (HP/Dmg/Fire). The `details` array with technical movement descriptions. The `subtitle` field.

5. **Win Conditions:** Move to `winY = 480` (was 520). Keep the two condition lines with role colors. Change "Paran wins: Eliminate both guardians" to "Paran wins by eliminating both guardians". Change "Guardians win: Eliminate Paran OR survive 5 minutes" to "Guardians win by taking down Paran or surviving the clock".

6. **Tip line:** Add a small flavor tip below win conditions at `winY + 65`:
   "The arena is alive -- smash through obstacles or use them as cover!"
   Style: 12px, `Colors.accent.vine` color, monospace.

7. **Back button:** Move to Y=600 (was 640) to give more breathing room above it.

**Important layout math:**
- Panel center Y: rolesY + 110 = 280 (for 220-tall panels, top edge = 170, bottom edge = 390)
- Win conditions at 480 gives 90px gap below panels -- comfortable
- Back button at 600 gives 56px below last text line (winY+65=545) -- comfortable
- Total vertical span: 50 (title) to 600 (button) = 550px within 720px viewport -- balanced

**What NOT to do:**
- Do NOT keep the stats lines -- the user explicitly said "no need to show so much details and stats"
- Do NOT use technical language like "cardinal movement", "8-directional", "last key wins"
- Do NOT make descriptions longer than one short sentence each -- brevity is key
- Do NOT change the color scheme or font family -- keep the solarpunk aesthetic
  </action>
  <verify>
1. `grep -c "HP:" client/src/scenes/HelpScene.ts` returns 0 (no stats lines remain)
2. `grep -c "cardinal\|8-directional\|diagonal allowed" client/src/scenes/HelpScene.ts` returns 0 (no technical descriptions)
3. `grep "Unstoppable force" client/src/scenes/HelpScene.ts` shows the playful Paran tagline
4. `grep "HOW TO PLAY" client/src/scenes/HelpScene.ts` shows the new title
5. No TypeScript compilation errors: `cd client && npx tsc --noEmit`
  </verify>
  <done>
- Help screen title changed to "HOW TO PLAY"
- Controls condensed to a single line
- Role panels show: sprite + name + playful tagline + 2-3 short descriptions (no stats, no technical jargon)
- Paran: "Unstoppable force" with speed/contact/wall descriptions
- Faran: "The sharpshooter" with teamwork focus
- Baran: "The heavy hitter" with teamwork focus
- Win conditions use player-friendly language
- Arena tip adds flavor
- All elements fit comfortably in 1280x720 with no overlap
  </done>
</task>

</tasks>

<verification>
1. Start match, observe HUD: cooldown bar sits clearly above the player name with visible gap.
2. Create a private lobby: Room Code, "Select Character" title, and character panels are clearly separated vertically.
3. Create a public lobby: "Select Character" title and character panels are clearly separated.
4. Open Help screen: clean layout with playful descriptions, no stat numbers, no overlap, comfortable spacing.
5. All text is readable without squinting or overlapping other elements.
</verification>

<success_criteria>
- HUD cooldown bar and player name have clear visual separation (Test 14: pass)
- Lobby scene elements have no overlap at 1280x720 for both private and public rooms (Test 15: pass)
- Help screen uses playful descriptions with no technical stats or overlap (Test 17: pass)
</success_criteria>

<output>
After completion, create `.planning/phases/07-hd-viewport-camera/07-08-SUMMARY.md`
</output>
