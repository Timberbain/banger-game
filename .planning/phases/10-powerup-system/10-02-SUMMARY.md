---
phase: 10-powerup-system
plan: 02
subsystem: ui
tags: [phaser, jsfxr, particles, sprites, pixel-art, powerups]

# Dependency graph
requires:
  - phase: 06-ux-polish
    provides: "AudioManager, ParticleFactory, SoundDefs, BootScene asset pipeline"
provides:
  - "Potion icon textures: potion_speed, potion_invincibility, potion_projectile"
  - "Powerup SFX: powerup_pickup, powerup_spawn, powerup_despawn"
  - "Particle aura methods: speedAura, invincibilityAura, projectileAura"
affects: [10-03, 10-04]

# Tech tracking
tech-stack:
  added: []
  patterns:
    - "Continuous follow-emitter aura pattern for buff visualization"

key-files:
  created:
    - client/public/icons/potion-blue.png
    - client/public/icons/potion-orange.png
    - client/public/icons/potion-red.png
  modified:
    - client/src/scenes/BootScene.ts
    - client/src/config/SoundDefs.ts
    - client/src/systems/ParticleFactory.ts

key-decisions:
  - "Aura emitters tracked in activeTrails Set for automatic cleanup on scene destroy"
  - "Depth 9 for aura particles (below player sprites at 10, above trail particles at 4)"

patterns-established:
  - "Follow-emitter aura: continuous particle emitter with follow target, tracked in activeTrails, caller destroys on buff expiry"

requirements-completed: []

# Metrics
duration: 2min
completed: 2026-02-17
---

# Phase 10 Plan 02: Client Asset Preparation Summary

**Potion icon preloads, 3 powerup jsfxr SFX (pickup/spawn/despawn), and 3 ParticleFactory aura emitter methods (blue speed, gold invincibility, red projectile)**

## Performance

- **Duration:** 2 min
- **Started:** 2026-02-17T15:22:52Z
- **Completed:** 2026-02-17T15:24:44Z
- **Tasks:** 2
- **Files modified:** 6

## Accomplishments
- Copied 16x16 pixel art potion icons to client/public/icons/ and preloaded as Phaser textures in BootScene
- Added 3 powerup SFX definitions to SoundDefs (ascending chime, ambient notification, whoosh) auto-generated by AudioManager
- Added 3 continuous aura particle emitter methods to ParticleFactory with distinct visual styles per buff type

## Task Commits

Each task was committed atomically:

1. **Task 1: Preload potion sprites and copy icon assets to public directory** - `e0f8a02` (feat)
2. **Task 2: Add powerup SFX definitions and ParticleFactory aura methods** - `ec62c59` (feat)

## Files Created/Modified
- `client/public/icons/potion-blue.png` - Speed boost potion icon (16x16 pixel art, copied from assets/icons/icon280.png)
- `client/public/icons/potion-orange.png` - Invincibility potion icon (16x16 pixel art, copied from assets/icons/icon279.png)
- `client/public/icons/potion-red.png` - Power shot potion icon (16x16 pixel art, copied from assets/icons/icon277.png)
- `client/src/scenes/BootScene.ts` - Added potion_speed, potion_invincibility, potion_projectile texture preloads
- `client/src/config/SoundDefs.ts` - Added powerup_pickup, powerup_spawn, powerup_despawn jsfxr SFX definitions
- `client/src/systems/ParticleFactory.ts` - Added speedAura, invincibilityAura, projectileAura continuous emitter methods

## Decisions Made
- Aura emitters at depth 9 (below player sprites at 10, above projectile trails at 4) for visual layering
- All aura emitters tracked in existing activeTrails Set for automatic cleanup on ParticleFactory.destroy()
- Followed existing createTrail pattern: return emitter to caller, caller manages lifecycle

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered
None

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- All textures, SFX, and particle effects ready for GameScene/HUDScene integration in plans 03 and 04
- No blockers

## Self-Check: PASSED

- All 3 potion icon files exist in client/public/icons/
- Commit e0f8a02 (Task 1) found in git log
- Commit ec62c59 (Task 2) found in git log

---
*Phase: 10-powerup-system*
*Completed: 2026-02-17*
