# Phase 05.1: Arena Collisions & Paran Contact Kill - Context

**Gathered:** 2026-02-11
**Status:** Ready for planning

<domain>
## Phase Boundary

Add physical collision detection between players and map obstacles/walls on all 4 existing arena maps. Players must be physically blocked by obstacles. Additionally, Paran instantly kills guardians (Faran/Baran) on body collision — the core asymmetric "predator" mechanic. Some obstacles are destructible with varying durability tiers.

</domain>

<decisions>
## Implementation Decisions

### Wall & obstacle collision behavior
- All players collide with tile-based obstacles (aligned to tile grid, using collision layer)
- On obstacle hit: full stop + resolve overlap (player stops exactly at obstacle edge)
- Arena edges: existing behavior preserved (clamp position)
- Mid-arena obstacles: separate collision response from edges (full stop + pushback to edge)
- Paran wall penalty (lose ALL velocity) applies to mid-arena obstacles too — obstacles become strategic tools for guardians to use against Paran
- Guardians: just resolve overlap on obstacle hit (stop at edge, no velocity penalty beyond stopping)
- All 4 existing maps (open_arena, corridor_chaos, cross_fire, pillars) must be updated with obstacle layouts
- Obstacles visually distinct from floor tiles (different color/appearance, clearly readable as blocking)

### Paran contact kill mechanics
- Any Paran-guardian hitbox overlap = instant kill, regardless of Paran speed (no speed threshold)
- Instant kill bypasses HP — guardian dies immediately regardless of remaining health
- One-directional: only Paran kills guardians on contact. Guardian touching Paran has no effect
- After contact kill, Paran keeps moving (maintains velocity, passes through killed guardian) — chain kills possible
- Paran is always a lethal contact threat, even when stationary

### Projectile-wall interaction
- Projectiles destroyed on contact with any wall or obstacle (both arena edges and mid-arena obstacles)
- No ricochet or bounce mechanics — projectiles simply disappear on wall contact
- No impact visual effect — clean destroy (projectile just disappears)
- Projectiles can pass through 1-tile gaps between obstacles if aimed correctly (skill-based)
- Collision detection respects gap geometry based on projectile hitbox size vs tile size

### Obstacle types & destructibility
- Two categories: indestructible obstacles and destructible obstacles
- Destructible obstacles have 3 tiers:
  - Light: 1-2 projectile hits to destroy
  - Medium: ~3 projectile hits to destroy
  - Heavy: 5+ projectile hits to destroy
- Paran contact instant-breaks any destructible obstacle (regardless of tier)
- Projectiles take multiple hits based on tier to destroy
- Each tier should be visually distinguishable (different appearance per durability level)
- Map designers decide mix of indestructible vs destructible per map

### Claude's Discretion
- Exact hit points per destructible tier (within the ranges above)
- Visual style for each obstacle tier
- Obstacle density and layout per map (balanced for gameplay)
- Destruction animation/effect (if any)
- How destroyed obstacles sync to clients (Schema removal vs state flag)
- Exact collision detection algorithm for tile-based obstacles

</decisions>

<specifics>
## Specific Ideas

- Paran as a "wrecking ball" — can carve paths through destructible obstacles, changing the map dynamically
- Obstacles serve dual purpose: cover for guardians against Paran's projectiles AND tools to trap/slow Paran (wall penalty on collision)
- Guardians want to kite near obstacles (cover from shots, Paran loses velocity on obstacle collision), but cover degrades as Paran smashes through destructibles
- Skill-based projectile shots through 1-tile gaps adds positioning depth

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 05.1-arena-collisions-contact-kill*
*Context gathered: 2026-02-11*
