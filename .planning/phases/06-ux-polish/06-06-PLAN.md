---
phase: 06-ux-polish
plan: 06
type: execute
wave: 4
depends_on: ["06-02", "06-03", "06-04", "06-05"]
files_modified:
  - client/src/scenes/HelpScene.ts
  - client/src/scenes/LobbyScene.ts
  - client/src/scenes/VictoryScene.ts
  - client/src/scenes/BootScene.ts
autonomous: true

must_haves:
  truths:
    - "Controls tutorial/help screen is accessible from lobby menu"
    - "Help screen shows controls for all roles with visual guides"
    - "Lobby has solarpunk-themed visual treatment"
    - "Title screen shows pixel art BANGER logo"
    - "Victory/defeat screen has particle effects and color wash"
    - "Character selection panels show character sprites instead of colored squares"
  artifacts:
    - path: "client/src/scenes/HelpScene.ts"
      provides: "Controls tutorial screen with keyboard maps and role descriptions"
      contains: "class HelpScene"
    - path: "client/src/scenes/LobbyScene.ts"
      provides: "Solarpunk-themed lobby with character sprites in selection panels"
      contains: "solarpunk"
    - path: "client/src/scenes/VictoryScene.ts"
      provides: "Enhanced victory screen with particle effects"
      contains: "ParticleFactory"
    - path: "client/src/scenes/BootScene.ts"
      provides: "Pixel art title screen with BANGER logo"
  key_links:
    - from: "client/src/scenes/LobbyScene.ts"
      to: "client/src/scenes/HelpScene.ts"
      via: "scene.start('HelpScene') from help button"
      pattern: "scene\\.start.*HelpScene"
    - from: "client/src/scenes/HelpScene.ts"
      to: "client/src/scenes/LobbyScene.ts"
      via: "Back button returns to lobby"
      pattern: "scene\\.start.*LobbyScene"
---

<objective>
Implement the controls help screen, apply solarpunk art treatment to lobby and boot screens, and enhance the victory scene with particle effects and color wash.

Purpose: Completes the visual polish layer -- every screen the player sees (boot, lobby, help, game, victory) has the solarpunk aesthetic treatment. The help screen provides onboarding for new players.

Output: HelpScene with controls guide, themed lobby UI, enhanced boot screen, and polished victory screen.
</objective>

<execution_context>
@/Users/jonasbrandvik/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jonasbrandvik/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-ux-polish/06-RESEARCH.md
@.planning/phases/06-ux-polish/06-02-SUMMARY.md
@.planning/phases/06-ux-polish/06-03-SUMMARY.md
@.planning/phases/06-ux-polish/06-04-SUMMARY.md
@.planning/phases/06-ux-polish/06-05-SUMMARY.md
@client/src/scenes/LobbyScene.ts
@client/src/scenes/VictoryScene.ts
@client/src/scenes/BootScene.ts
@client/src/scenes/HelpScene.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement HelpScene with controls guide</name>
  <files>client/src/scenes/HelpScene.ts</files>
  <action>
    Replace the HelpScene stub with a full controls tutorial screen. Accessible from lobby menu (separate help screen, not in-game overlay, per user decision).

    **Layout:**
    1. Title: "CONTROLS" at top center, solarpunk palette (warm green #4a7c3f).
    2. Background: dark green-tinted (#1a2e1a) to match solarpunk aesthetic.

    3. **General Controls section:**
       - "Movement: WASD or Arrow Keys"
       - "Fire: Spacebar"
       - "Spectate (when eliminated): Tab to cycle"

    4. **Role-specific sections (3 columns or vertical list):**

       **Paran (The Force):**
       - Show Paran sprite (idle animation, use `this.add.sprite('paran')`)
       - "HP: 150 | Damage: 40 | Fire Rate: 1/sec"
       - "Cardinal movement only (last key wins)"
       - "Builds speed over time (momentum)"
       - "Loses ALL speed on wall/obstacle collision"
       - "Instantly kills guardians on body contact"
       - "Destroys obstacles on contact"
       - Color: red (#ff4444)

       **Faran (Guardian):**
       - Show Faran sprite (idle animation)
       - "HP: 50 | Damage: 10 | Fire Rate: 5/sec"
       - "8-directional movement (diagonal allowed)"
       - "Work with Baran to trap and eliminate Paran"
       - Color: blue (#4488ff)

       **Baran (Guardian):**
       - Show Baran sprite (idle animation)
       - "HP: 50 | Damage: 10 | Fire Rate: 5/sec"
       - "8-directional movement (diagonal allowed)"
       - "Work with Faran to trap and eliminate Paran"
       - Color: green (#44cc66)

    5. **Win Conditions:**
       - "Paran wins: Eliminate both guardians"
       - "Guardians win: Eliminate Paran OR survive 5 minutes"

    6. **Back button** at bottom: returns to LobbyScene via `this.scene.start('LobbyScene')`.
       - Styled with solarpunk colors.

    Use clear, readable text. Font size 16px for descriptions, 20px for section headers. Consistent spacing.
  </action>
  <verify>
    Run `cd /Users/jonasbrandvik/Projects/banger-game/client && npx tsc --noEmit` to verify TypeScript compiles.
    Verify HelpScene has controls for all roles and a back button.
  </verify>
  <done>
    Help screen displays complete controls guide with role-specific information, character sprites, stats, and win conditions. Accessible from lobby menu with back navigation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish lobby, boot, and victory scenes with solarpunk art</name>
  <files>client/src/scenes/LobbyScene.ts, client/src/scenes/VictoryScene.ts, client/src/scenes/BootScene.ts</files>
  <action>
    **LobbyScene.ts -- solarpunk visual treatment:**

    1. **Add "How to Play" button** to main menu:
       - Position below "Find Match" button.
       - On click: `this.scene.start('HelpScene')`.
       - Style: same button format with info-blue color.

    2. **Background theming:**
       - Replace flat dark background (#1a1a2e) with a gradient-like effect using layered rectangles:
         - Bottom layer: dark green (#0d1f0d)
         - Add subtle decorative elements: vine-like lines using Graphics API, small golden dots as "solar particles".
       - Apply warm green (#4a7c3f) and gold (#d4a746) accents to headers and borders.

    3. **Character selection panels -- use sprites instead of colored squares:**
       - Replace `this.add.rectangle(x, panelY - 15, 60, 60, char.color)` with `this.add.sprite(x, panelY - 15, char.role)`.
       - Play idle animation on the sprite: `sprite.play(`${char.role}-idle`)`.
       - Keep the panel background but style it with solarpunk border colors.

    4. **Button styling:**
       - Use the solarpunk palette for button backgrounds: forest green (#2d5a2d) for primary, golden brown (#8b6d3c) for secondary.
       - Add subtle border effect using Graphics or stroke.

    5. **Title styling:**
       - "BANGER" title: larger font, add golden color (#d4a746), add text stroke for depth.

    **BootScene.ts -- pixel art title screen:**

    1. Replace plain text title with styled version:
       - "BANGER" in large pixel-style font (use existing font or system monospace).
       - Color: golden (#d4a746) with dark green stroke (#1a2e1a).
       - Add a subtitle: "Asymmetric Arena Combat" in white, smaller.

    2. Background: Dark green (#0d1f0d) instead of flat dark.

    3. Add simple decorative elements: golden dots/sparkles using Graphics (small circles at random positions, representing "solar energy").

    4. "Click to Start" text instead of auto-transition. This ensures audio context is unlocked by user click (per pitfall #3 from research). On first click, transition to LobbyScene.

    **VictoryScene.ts -- enhanced with particles and color wash:**

    1. Import and use ParticleFactory for victory effects:
       - On scene create, instantiate ParticleFactory.
       - Trigger multiple victory bursts at different positions for celebration.
       - If player won: green particles. If lost: red particles.

    2. **Color wash effect:**
       - Add a semi-transparent overlay rectangle tinted with win/loss color:
         - Win: green overlay at 0.15 alpha.
         - Loss: red overlay at 0.15 alpha.
       - Layer it between the black overlay and the text content.

    3. **Text styling:**
       - Apply solarpunk color palette to text elements.
       - Victory: golden (#d4a746) instead of plain green.
       - Defeat: dark red (#cc3333) instead of plain red.

    4. Add "Return to Lobby" button with solarpunk styling (matching lobby buttons).
  </action>
  <verify>
    Run `cd /Users/jonasbrandvik/Projects/banger-game/client && npx tsc --noEmit` to verify TypeScript compiles.
    Verify "How to Play" button exists in LobbyScene main menu.
    Verify character selection uses sprites.
    Verify BootScene has click-to-start interaction.
    Verify VictoryScene uses ParticleFactory.
  </verify>
  <done>
    All screens have solarpunk visual treatment. Lobby shows character sprites in selection panels with themed buttons. Boot screen has styled title with click-to-start. Victory screen has particle effects and color wash. Help screen is accessible from lobby menu.
  </done>
</task>

</tasks>

<verification>
1. Client compiles without errors
2. HelpScene is accessible from lobby via "How to Play" button
3. HelpScene shows controls, role info, character sprites, and win conditions
4. LobbyScene has solarpunk theming and character sprites in selection panels
5. BootScene has styled title and click-to-start
6. VictoryScene has particle effects and color-tinted overlay
7. Back button in HelpScene returns to LobbyScene
8. All screens use consistent solarpunk color palette
</verification>

<success_criteria>
Every game screen has solarpunk visual treatment. Help screen provides complete onboarding. Lobby shows character sprites with themed UI. Boot screen requires click (unlocking audio). Victory screen has celebration particles.
</success_criteria>

<output>
After completion, create `.planning/phases/06-ux-polish/06-06-SUMMARY.md`
</output>
